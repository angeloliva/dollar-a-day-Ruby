$(function(){var n="body#donors_index.admin";0!=$(n).length&&$(document).on("click",n+" .toggle-search",function(){$(n).find(".search-form").toggle()})}),$(function(){var n="body#subscribers_index.admin";0!=$(n).length&&$(document).on("click",n+" .toggle-search",function(){$(n).find(".search-form").toggle()})}),$(function(){$("#nonprofit_name").keyup(throttle(function(){var n=$(this),t=$("#nonprofit_slug"),i=n.val().toLowerCase().replace(/[^a-z0-9]/gi,"-").replace(/--/gi,"-").replace(/-+$/gi,"");t.val(i)},500)),$("#nonprofit_featured_on").keyup(throttle(function(){var n=$(this),t=n.val();t=t.split("/"),t[0]=t[0].substring(0,4),t[1]=t[1].substring(0,2),t[2]=t[2].substring(0,2),t=t.join("/"),n.val(t)},500)),$("#nonprofit_lookup_ein").click(function(n){n.preventDefault();var t=$("#nonprofit_ein").val();$.ajax({url:"/admin/nonprofits/lookup_ein.json",data:{ein:t},success:function(n){html="",html+="<br /><b>Propublica Details for EIN "+t+"</b>: <br />",html+="<p style='margin: 5px; padding: 20px; background: #FFF'>",html+=JSON.stringify(n.propublica).replace(/,\"/gim,',<br />"'),html+="</p>",html+="<br /><b>NFG Details for EIN "+t+"</b>: <br />",html+="<p style='margin: 5px; padding: 20px; background: #FFF'>",html+=JSON.stringify(n.nfg).replace(/,\"/gim,',<br />"'),html+="</p>",$("#ein_lookup_data").html(html)}})})});